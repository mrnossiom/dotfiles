- defaults:
    link:
      relink: true
      create: true
    shell:
      stderr: true

- clean: ['~']

- link:
    ~/.yarnrc: yarn/yarnrc
    ~/.config/yarn/global/package.json: yarn/globalDependencies
    ~/.config/yarn/global/yarn.lock: yarn/globalDependencies.lock
    ~/.gitconfig:
    ~/.czrc:
    ~/.prettierrc.json:
    ~/.config/starship.toml.save:
    ~/.ssh/config: ssh_config
    ~/.profile:
    ~/.cargo/.crates.toml:
    ~/fish: .config/fish

- shell:
    - description: Check and Update DotBot submodule
      command: git submodule update --init --recursive
    - description: Update and upgrade Brew
      command: brew bundle && brew update && brew upgrade
    - description: Verify fish symlink
      command: test -L ~/.config/fish
    - description: Verify cargo installation
      command: type rustup && type cargo
    - description: Update cargo dependencies
      command: cargo install-update -a
    - description: Upgrade yarn packages
      command: yarn global list && yarn global upgrade --latest
